ReliefWeb Icons
===============

This component provides CSS variables to use a SVG sprite for background images.

How to generate the sprite
--------------------------

The SVG sprite is generated from individual SVG icons in `img/icons` using
settings defined in `rw-icons.json`.

To generate the file, run: `php rw-icons-generator.php`.

To add new icons, simply drop the SVG files in the proper `img/icons` subfolder
and run the command above.

To add new colors, sizes or categories of icons, edit the `rw-icons.json`.

In addition to the SVG sprite, the script updates the `rw-icons.css` with the
CSS variables to use the sprite as background.

How to use the sprite
---------------------

Select the icon to use in the appropriate size and color and use the
corresponding CSS variable for the `background` property.

Example:

```css
.class-with-icon-as-background::before {
  display: inline-block;
  /* This avoids any bleeding of the background in some Safari versions. */
  overflow: hidden;
  width: 12px;
  height: 12px;
  background: var(--rw-icons--common--help--12--dark-blue);
}
```

To change the color of an icon, CSS variables for the `background-position-x`
for the category, size and color can be used.

Example (to change the color of the icon above to red on hover):

```css
.class-with-icon-as-background:hover::before {
  background-position-x: var(--rw-icons--common--12--dark-red--x);
}
```

Important notes
---------------

### Icons

The SVG icons come from the Humanitarian Icon Set:
https://reliefweb.int/report/world/humanitarian-and-country-icons-2018.

The icons are expected to have a **48x48** size.

The icons should also be optimized via https://jakearchibald.github.io/svgomg/
for example and stripped out of classes etc. when relevant.

Ideally the individual icons should have a `data-source` attribute with some
indication of the original icons and any modifications made to them.

### Colors

The script retrieves the CSS variables from the common_design_subtheme style
file: `common_design_subtheme/css/styles.css` generated from the sass files in
`common_design_subtheme/sass`, and substitute the variables for the actual
colors.

So the format for the `colors` property in the `rw-icons.json` file is either
`--css-variable-name` or any valid CSS color (ex: `#ffF` or `rgba(0,0,0,0.2)`.

### Porting the individual icons from ReliefWeb Drupal 7.

For convenience the script can also be used to extract the individual SVG files
from the icon sprites of the Drupal 7 site or from the sprite generated by this
script.

Import the icons with `php rw-icons-generator.php -s path/to/sprite -c category`

